# Simple Demo Environment Configuration
# This is a basic environment for testing and learning

run:
  algorithm:
    load_model: False  # Set to True if you want to load a pretrained model
    model_path: ""  
    type: "PPO"
    config: {}
  train:
    num_envs: 4  # Number of parallel environments for training
    logging: 0
    timesteps: 500000  # Total training steps
    save_freq: 10000  # Save model every N steps
    save_folder: "./models/weights"  
    save_name: "simple_demo"
  eval:
    max_episodes: -1  # -1 = run forever, or set a specific number
    logging: 1  # 0=none, 1=console, 2=console+csv
    display_delay: 0.01  # Delay between steps (in seconds) for visualization
    show_world_aux: True  # Show visual aids (goal marker, etc.)
    show_goal_aux: True
    show_sensor_aux: False

env:
  max_steps_per_episode: 512  # Maximum steps before timeout
  stat_buffer_size: 25  
  normalize_observations: False
  normalize_rewards: False
  use_physics_sim: True
  gravity: [0, 0, -9.8]
  sim_step: 0.01  # Physics simulation timestep
  sim_steps_per_env_step: 1
  
  robots:
    - type: "UR5"  # Robot type (UR5, KR16, etc.)
      config:
        name: "ur5_robot"
        base_position: [0, 0, 0.5]  # Robot base position [x, y, z]
        base_orientation: [0, 0, 0]  # Robot base orientation [roll, pitch, yaw]
        resting_angles: [0, -90, -90, -90, 90, 0]  # Default joint angles
        control_mode: 0  # 0=IK, 1=joint positions, 2=joint velocities
        ik_xyz_delta: 0.05  # Max position change per step
        ik_rpy_delta: 0.05  # Max rotation change per step
        self_collision: False
        
      sensors:
        # LIDAR sensor for obstacle detection
        - type: "LidarSensorUR5"
          config:
            update_steps: 1
            add_to_observation_space: True
            add_to_logging: True
            indicator_buckets: 6  # Number of distance buckets
            ray_start: 0
            ray_end: 0.4  # LIDAR range in meters
            ray_setup:
              ee_forward: [1, 1]  # Forward-facing ray
              wrist3_circle: [8, 5]  # Rays around wrist
              wrist2_circle: [8, 5]
              wrist1_circle: [8, 5]
              upper_arm: [8, 5]
            indicator: True
            
      goal:
        type: "PositionCollision"
        config:
          add_to_logging: True
          continue_after_success: False  # Stop episode after reaching goal
          reward_success: 10  # Reward for reaching goal
          reward_collision: -5  # Penalty for collision
          reward_distance_mult: -0.01  # Penalty proportional to distance
          dist_threshold_start: 0.15  # Initial distance threshold (easier)
          dist_threshold_end: 0.05  # Final distance threshold (harder)
          dist_threshold_increment_start: 0.01
          dist_threshold_increment_end: 0.001
          dist_threshold_overwrite: "None"

  world:
    type: "SimpleDemoWorld"  # Our new world!
    config:
      workspace_boundaries: [-0.5, 0.5, -0.5, 0.5, 0.5, 1.0]  # [x_min, x_max, y_min, y_max, z_min, z_max]
      num_boxes: 3  # Number of box obstacles
      num_spheres: 2  # Number of sphere obstacles
      add_table: False  # Whether to add a table to the scene
